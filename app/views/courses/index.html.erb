<div class="courses-container" data-cotroller="display-visuel">
    <div class="row justify-content-center input-group mb-4 border rounded-pill p-1">
      <%= form_with url: courses_path, method: :get, class: "d-flex search-bar" do %>
        <%= text_field_tag :query,
          params[:query],
          class: "form-control bg-none border-0 search",
          placeholder: "Rechercher un cours"
        %>
        <%= button_tag(type: "submit", class: "btn btn-link text-info") do %>
          <i class="fa fa-search"></i>
        <% end%>
      <% end %>
    </div>


  <div class="all-cards" data-controller="add-course">
    <div id="courses"  data-add-course-target="list">
      <% if @courses.any? %>
        <% @courses.each do |course| %>
          <div class="list-card" >
            <div class="card-img" style="background-image: url(<%= image_path 'img-card2.jpeg' %>)">
              <h5 class="card-title"><i class="fas fa-chart-pie"></i> <%= course.category %></h5>
              <h3 class="card-subtitle"> <%= course.title %></h3>
              <p class="card-text"><%= course.user.first_name %> <%= course.user.last_name %></p>
              <p class="card-text"><%= course.date %></p>
              <a class="a-file" data-action="click->display-visuel#display" > Voir plus </a>
            </div>
          </div>
        <% end %>
      <% else %>
        <em>Désolé, aucun sujet de cours n'a été trouvé.</em>
      <% end %>
    </div>
    <%= render "courses/visualisation_card"%>
  </div>
</div>
